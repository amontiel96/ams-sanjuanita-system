{
    "sourceFile": "src/Controlador/jClsCompra.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1723875771050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1723875771050,
            "name": "Commit-0",
            "content": "/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\npackage Controlador;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport Modelo.*;\r\nimport Vista.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author Arturo\r\n */\r\npublic class jClsCompra implements ActionListener,MouseListener{\r\n    JIFrmCompra frm;\r\n    ClsMCompra datos;\r\n    public int cont=0;\r\n    public jClsCompra(JIFrmCompra _frm,ClsMCompra _datos) throws ClassNotFoundException{\r\n        this.frm=_frm;\r\n        this.datos=_datos;\r\n        this.frm.jbtnBuscar.setActionCommand(\"buscar\");\r\n        this.frm.jbtnBuscar.addActionListener(this);\r\n        this.frm.jbtnOrdenar.setActionCommand(\"ordenar\");\r\n        this.frm.jbtnOrdenar.addActionListener(this);\r\n        this.frm.jbtnCobrar.setActionCommand(\"cobrar\");\r\n        this.frm.jbtnCobrar.addActionListener(this);\r\n        this.frm.jbtnGuadar.setActionCommand(\"guardar\");\r\n        this.frm.jbtnGuadar.addActionListener(this);\r\n        this.frm.jtblProductos.addMouseListener(this);\r\n        this.datos.CargarCombos();\r\n        this.llenartabla();\r\n    }\r\n    public void frm_load(){\r\n        this.frm.setVisible(true);\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n        String btn=ae.getActionCommand();\r\n        switch(btn){\r\n            case \"guardar\":\r\n                try{\r\n                    this.datos.guardarCompra();\r\n                    this.datos.setCont(cont);\r\n                }catch(Exception e){}\r\n                \r\n                break;\r\n            case \"cobrar\":\r\n                this.datos.cobrar();\r\n                break;\r\n            case \"buscar\":\r\n                try{\r\n                    this.datos.setBuscar(this.frm.jtxtBuscar.getText());\r\n                if(this.datos.BuscarProducto()){\r\n                    JOptionPane.showMessageDialog(null,\"Encontrado\");\r\n                    \r\n                }\r\n                else{\r\n                JOptionPane.showMessageDialog(null,\"NO EXISTE\");\r\n                this.llenartabla();\r\n                }\r\n                }catch(Exception e){}\r\n                \r\n                break;\r\n            case \"ordenar\":\r\n                this.frm.jtblOrden.removeAll();\r\n                this.datos.setCantidad(Integer.parseInt(this.frm.jtxtCantidad.getText()));\r\n                this.datos.setIdpro(this.frm.jtxtID.getText());\r\n                this.datos.setIdventa(this.frm.jtxtIDVENTA.getText());\r\n                this.datos.setNombre(this.frm.jtxtNombre.getText());\r\n                this.datos.setPrecio(Float.parseFloat(this.frm.jtxtPrecio.getText()));\r\n                this.datos.setExistencia(Integer.parseInt(this.frm.jtxtExistencia.getText()));\r\n                this.datos.setIdprove((String) this.frm.jcmbProveedor.getSelectedItem());\r\n                if(this.frm.jtxtCantidad.equals(0)){\r\n                    JOptionPane.showMessageDialog(null,\"no hay\");\r\n                }\r\n                else{\r\n                    this.datos.AgregarTablaProducto();\r\n                cont++;\r\n                this.datos.cobrar();\r\n                }\r\n                \r\n                \r\n                \r\n                break;\r\n        }\r\n    }\r\n\r\n    private void llenartabla()\r\n    {\r\n            this.frm.jtblProductos.setModel(datos.llenartabla());\r\n    }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent me) {\r\n        if(me.getButton()==1){\r\n            int fila=this.frm.jtblProductos.rowAtPoint(me.getPoint());\r\n            if(fila>-1)\r\n            {\r\n                this.frm.jtxtID.setText(String.valueOf(this.frm.jtblProductos.getValueAt(fila, 0)));\r\n                this.frm.jtxtNombre.setText(String.valueOf(this.frm.jtblProductos.getValueAt(fila, 1)));\r\n                this.frm.jtxtPrecio.setText(String.valueOf(this.frm.jtblProductos.getValueAt(fila, 7)));\r\n                this.frm.jtxtExistencia.setText(String.valueOf(this.frm.jtblProductos.getValueAt(fila, 2)));\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent me) {\r\n       \r\n    }\r\n}\r\n"
        }
    ]
}