{
    "sourceFile": "src/Controlador/jClsMarca.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1723875865413,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1723875865413,
            "name": "Commit-0",
            "content": "/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage Controlador;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport Vista.*;\r\nimport java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\nimport javax.swing.JOptionPane;\r\nimport Modelo.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n/**\r\n *\r\n * @author Arturo\r\n */\r\npublic class jClsMarca implements ActionListener, MouseListener{\r\nJIFrmMarca frm;\r\nClsM_Marca datos=new ClsM_Marca();\r\n    public jClsMarca(JIFrmMarca _frm)\r\n{\r\n    this.frm=_frm;\r\n    this.frm.jbtnAgregar.setActionCommand(\"agregar\");\r\n    this.frm.jbtnAgregar.addActionListener(this);\r\n    this.frm.jbtnEditar.setActionCommand(\"editar\");\r\n    this.frm.jbtnEliminar.setActionCommand(\"eliminar\");\r\n    this.frm.jbtnEliminar.addActionListener(this);\r\n    this.frm.jbtnEditar.addActionListener(this);\r\n    this.frm.jbtnBuscar.setActionCommand(\"buscar\");\r\n    this.frm.jbtnBuscar.addActionListener(this);\r\n    this.frm.jTblMarca.addMouseListener(this);\r\n    \r\n    \r\n    this.llenartabla();\r\n    this.frm.jtxtBuscar.addKeyListener(new KeyAdapter() {\r\n    public void keyTyped(KeyEvent ke){\r\n        buscar(ke);\r\n    }\r\n    });\r\n    this.frm.jtxtID.addKeyListener(new KeyAdapter(){\r\n    public void keyTyped(KeyEvent ke){\r\n        id(ke);\r\n    }\r\n    });\r\n    this.frm.jtxtNombre.addKeyListener(new KeyAdapter(){\r\n    public void keyTyped(KeyEvent ke){\r\n        nombre(ke);\r\n    }\r\n    });\r\n}\r\n    public void frm_load(){\r\n        this.frm.setVisible(true);\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n        String btn=ae.getActionCommand();\r\n        switch(btn){\r\n            case \"buscar\":\r\n                JOptionPane.showMessageDialog(frm, \"entra\");\r\n                 int id=frm.jtxtBuscar.getText().trim().length();\r\n                \r\n                if(id==0)\r\n                {\r\n                    JOptionPane.showMessageDialog(frm,\"Error, No ha introducido clave\");\r\n                }\r\n                else\r\n                {\r\n                    this.datos.setBuscar(this.frm.jtxtBuscar.getText());\r\n                    \r\n                    if(this.datos.buscar()==true)\r\n                    {\r\n                        JOptionPane.showMessageDialog(frm, \"registro encontrado\");\r\n                        this.llenartabla();\r\n                    }\r\n                    else{\r\n                        JOptionPane.showMessageDialog(frm, \"registro no existe\");\r\n                    }\r\n                }\r\n                break;\r\n            case \"agregar\":\r\n               \r\n                try\r\n             {\r\n            enviar();\r\n             if(this.datos.guardarProveedor())\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"Se guardo con exito\");\r\n                  this.llenartabla();\r\n              }\r\n              else\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"nose guardo\");\r\n              }\r\n             }\r\n             catch(Exception e)\r\n             {\r\n                 JOptionPane.showMessageDialog(null, e);\r\n             }\r\n                break;\r\n            case \"editar\":\r\n                 try\r\n             {\r\n                 JOptionPane.showMessageDialog(null,\"Entra\");\r\n             \r\n            enviar();\r\n             if(this.datos.editar())\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"Se edito con exito\");\r\n                  this.llenartabla();\r\n              }\r\n              else\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"nose elimino\");\r\n              }\r\n             }\r\n             catch(Exception e)\r\n             {\r\n                 JOptionPane.showMessageDialog(null, e);\r\n             }\r\n                break;\r\n                case \"eliminar\":\r\n              try\r\n             {\r\n             \r\n            enviar();\r\n             if(this.datos.eliminar()==true)\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"Se elimino con exito\");\r\n                  this.llenartabla();\r\n              }\r\n             else\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"nose elimino\");\r\n              }\r\n             }\r\n             catch(Exception e)\r\n             {\r\n                 JOptionPane.showMessageDialog(null, e);\r\n             }\r\n             break;\r\n        }\r\n    }\r\n     private void llenartabla()\r\n    {\r\n            this.frm.jTblMarca.setModel(datos.llenartabla());\r\n    }\r\n\r\n     public void nombre(KeyEvent ke){\r\n         if (this.frm.jtxtNombre.getText().length()==25)\r\n        {\r\n            ke.consume();\r\n        }\r\n        this.SoloLetras(ke);\r\n     }\r\n     public void id(KeyEvent ke){\r\n         if (this.frm.jtxtID.getText().length()==10)\r\n        {\r\n            ke.consume();\r\n        }\r\n        this.SoloNumeros(ke);\r\n     }\r\n      private void buscar(java.awt.event.KeyEvent  ke) {\r\n        if (this.frm.jtxtBuscar.getText().length()==10)\r\n        {\r\n            ke.consume();\r\n        }\r\n        this.SoloNumeros(ke);\r\n    }\r\n    \r\n\r\n     public void SoloNumeros(KeyEvent e) {\r\n        char teclaPulsada = e.getKeyChar();\r\n        if (!Character.isDigit(teclaPulsada)) { \r\n            e.consume(); \r\n            }                     \r\n    }\r\n     public void SoloLetras(KeyEvent e) {\r\n        char teclaPulsada = e.getKeyChar();\r\n        if (Character.isDigit(teclaPulsada)) {\r\n            e.consume(); \r\n            }                      \r\n    }\r\n     public void enviar()\r\n     {\r\n     this.datos.setId(this.frm.jtxtID.getText());\r\n             this.datos.setNombre(this.frm.jtxtNombre.getText());\r\n     }\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent me) {\r\n        //codigo para al dar clic en la tabla se llenene los campos\r\n        if(me.getButton()==1){\r\n            int fila=this.frm.jTblMarca.rowAtPoint(me.getPoint());\r\n            if(fila>-1)\r\n            {\r\n                this.frm.jtxtID.setText(String.valueOf(this.frm.jTblMarca.getValueAt(fila, 0)));\r\n                this.frm.jtxtNombre.setText(String.valueOf(this.frm.jTblMarca.getValueAt(fila, 1)));\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent me) {\r\n        \r\n    }\r\n}\r\n"
        }
    ]
}