{
    "sourceFile": "src/Controlador/jClsProductos.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1723875902114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1723875902114,
            "name": "Commit-0",
            "content": "/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage Controlador;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport Vista.*;\r\nimport Modelo.*;\r\nimport java.sql.SQLException;\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author Arturo\r\n */\r\npublic class jClsProductos implements ActionListener {\r\n    JIFrmProducto frm;\r\n    ClsMProductos datos;\r\n    public jClsProductos(JIFrmProducto _frm,ClsMProductos _datos) throws ClassNotFoundException{\r\n        this.frm=_frm;\r\n        this.datos=_datos;\r\n         this.frm.jbtnAgregar.setActionCommand(\"agregar\");\r\n        this.frm.jbtnAgregar.addActionListener(this);\r\n        this.frm.jbtnEditar.setActionCommand(\"editar\");\r\n        this.frm.jbtnEliminar.setActionCommand(\"eliminar\");\r\n        this.frm.jbtnEliminar.addActionListener(this);\r\n        this.frm.jbtnEditar.addActionListener(this);\r\n        this.frm.jbtnBuscar.setActionCommand(\"buscar\");\r\n        this.frm.jbtnBuscar.addActionListener(this);\r\n        this.llenartabla();\r\n        this.datos.CargarCombos();\r\n    }\r\n    public void frm_load(){\r\n        this.frm.setVisible(true);\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n     String btn=ae.getActionCommand();\r\n        switch(btn){\r\n            case \"buscar\":\r\n                try{\r\n                    this.datos.setBuscar(this.frm.jtxtBuscar.getText());\r\n                    if(this.datos.BuscarProducto()==true){\r\n                    JOptionPane.showMessageDialog(null, \"RESGISTRO ENCONTRADO\");\r\n                    }\r\n                    else{\r\n                    JOptionPane.showMessageDialog(null, \"REGISTRO NO EXISTE\");\r\n                    this.llenartabla();\r\n                    }\r\n                    \r\n                    \r\n                }catch(Exception e){}\r\n               \r\n                break;\r\n            case \"agregar\":\r\n                try\r\n             {\r\n\r\n            enviar();\r\n             if(this.datos.guardarProveedor()==true)\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"Se guardo con exito\");\r\n                  this.llenartabla();\r\n              }\r\n              else\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"nose guardo\");\r\n                  this.llenartabla();\r\n              }\r\n             }\r\n             catch(Exception e)\r\n             {\r\n                 JOptionPane.showMessageDialog(null, e);\r\n             }\r\n                break;\r\n            case \"editar\":\r\n                 try\r\n             {\r\n                 JOptionPane.showMessageDialog(null,\"Entra\");\r\n            enviar();\r\n             if(this.datos.editar())\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"Se edito con exito\");\r\n                  this.llenartabla();\r\n              }\r\n              else\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"nose elimino\");\r\n              }\r\n             }\r\n             catch(Exception e)\r\n             {\r\n                 JOptionPane.showMessageDialog(null, e);\r\n             }\r\n                break;\r\n                case \"eliminar\":\r\n              try\r\n             {\r\n            enviar();\r\n             if(this.datos.eliminar()==true)\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"Se elimino con exito\");\r\n                  this.llenartabla();\r\n              }\r\n             else\r\n              {\r\n                  JOptionPane.showMessageDialog(null,\"nose elimino\");\r\n              }\r\n             }\r\n             catch(Exception e)\r\n             {\r\n                 JOptionPane.showMessageDialog(null, e);\r\n             }\r\n             break;\r\n        }   \r\n    }\r\n     private void llenartabla()\r\n    {\r\n            this.frm.jTblProducto.setModel(datos.llenartabla());\r\n    }\r\n  \r\n     \r\n     \r\n    public void enviar(){\r\n        this.datos.setId(this.frm.jtxtID.getText());\r\n        this.datos.setNombre(this.frm.jtxtNombre.getText());\r\n        this.datos.setExistencia(Integer.parseInt(this.frm.jtxtExistencia.getText()));\r\n        this.datos.setDescripcion(this.frm.jtxtDescripcion.getText());\r\n        this.datos.setIdmarca((String) this.frm.jcmbMarca.getSelectedItem());\r\n        this.datos.setIdcategoria((String) this.frm.jcmbCategoria.getSelectedItem());\r\n        \r\n    }\r\n\r\n}\r\n"
        }
    ]
}