{
    "sourceFile": "src/Controlador/jClsVentas.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1723875970852,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1723875970852,
            "name": "Commit-0",
            "content": "/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage Controlador;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport Modelo.*;\r\nimport Vista.*;\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author Arturo\r\n */\r\npublic class jClsVentas implements ActionListener,MouseListener{\r\n    JIFrmVentas frm;\r\n    Cls_MVenta datos;\r\n    public jClsVentas(JIFrmVentas _frm,Cls_MVenta _datos){\r\n        this.frm=_frm;\r\n        this.datos=_datos;\r\n        this.frm.jbtnOrdenar.setActionCommand(\"ordenar\");\r\n        this.frm.jbtnOrdenar.addActionListener(this);\r\n        this.frm.jbtnGuardarVenta.setActionCommand(\"guardar\");\r\n        this.frm.jbtnGuardarVenta.addActionListener(this);\r\n        this.frm.jbtnBuscar.setActionCommand(\"buscar\");\r\n        this.frm.jbtnBuscar.addActionListener(this);\r\n        this.frm.jbtnCalcular.setActionCommand(\"calcular\");\r\n        this.frm.jbtnCalcular.addActionListener(this);\r\n        this.frm.jtblProducto.addMouseListener(this);\r\n        this.frm.jtxtIDVENTA.setEnabled(true);\r\n        this.llenartabla();\r\n    }\r\n    public void frm_load(){\r\n        this.frm.setVisible(true);\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent ae) {\r\n         String btn=ae.getActionCommand();\r\n        switch(btn){\r\n            case \"calcular\":\r\n                this.datos.cambio();\r\n                break;\r\n            case \"guardar\":\r\n                try{\r\n                    this.datos.guardarVenta();\r\n                }catch(Exception e){}\r\n                \r\n                break;\r\n            case \"cobrar\":\r\n                this.datos.cobrar();\r\n                break;\r\n            case \"buscar\":\r\n                try{\r\n                    JOptionPane.showMessageDialog(null, \"entra\");\r\n                    this.datos.setBuscar(this.frm.jtxtBuscar.getText());\r\n                if(this.datos.BuscarProducto()){\r\n                    JOptionPane.showMessageDialog(null,\"Encontrado\");\r\n                    \r\n                }\r\n                else{\r\n                JOptionPane.showMessageDialog(null,\"NO EXISTE\");\r\n                this.llenartabla();\r\n                }\r\n                }catch(Exception e){}\r\n                \r\n                break;\r\n            case \"ordenar\":\r\n                this.frm.jtblOrdenVenta.removeAll();\r\n                this.datos.setCantidad(Integer.parseInt(this.frm.jtxtCantidad.getText()));\r\n                this.datos.setIdpro(this.frm.jtblProducto.getValueAt(0,0).toString());\r\n                this.datos.setIdventa(this.frm.jtxtIDVENTA.getText());\r\n                this.datos.setNombre(this.frm.jtxtNombre.getText());\r\n                this.datos.setPrecio(Float.parseFloat(this.frm.jtxtPrecio.getText()));\r\n                this.datos.setExistencia(Integer.parseInt(this.frm.jtxtExistencia.getText()));\r\n                if(this.frm.jtxtCantidad.equals(0)){\r\n                    JOptionPane.showMessageDialog(null,\"no hay\");\r\n                }\r\n                else{\r\n                    this.datos.AgregarTablaProducto();\r\n                this.datos.cobrar();\r\n                }\r\n                \r\n                \r\n                \r\n                break;\r\n        }\r\n    }\r\n private void llenartabla()\r\n    {\r\n            this.frm.jtblProducto.setModel(datos.llenartabla());\r\n    }\r\n    @Override\r\n    public void mouseClicked(MouseEvent me) {\r\n         if(me.getButton()==1){\r\n            int fila=this.frm.jtblProducto.rowAtPoint(me.getPoint());\r\n            if(fila>-1)\r\n            {\r\n                //this.frm..setText(String.valueOf(this.frm.jtblProductos.getValueAt(fila, 0)));\r\n                this.frm.jtxtNombre.setText(String.valueOf(this.frm.jtblProducto.getValueAt(fila, 1)));\r\n                this.frm.jtxtPrecio.setText(String.valueOf(this.frm.jtblProducto.getValueAt(fila, 7)));\r\n                this.frm.jtxtExistencia.setText(String.valueOf(this.frm.jtblProducto.getValueAt(fila, 2)));\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseReleased(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseEntered(MouseEvent me) {\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void mouseExited(MouseEvent me) {\r\n        \r\n    }\r\n    \r\n}\r\n"
        }
    ]
}