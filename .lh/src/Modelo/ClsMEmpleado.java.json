{
    "sourceFile": "src/Modelo/ClsMEmpleado.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1723876493095,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1723876493095,
            "name": "Commit-0",
            "content": "/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage Modelo;\r\n\r\nimport Vista.JIFrmEmpleado;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.DefaultComboBoxModel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\n\r\n/**\r\n *\r\n * @author Arturo\r\n */\r\npublic class ClsMEmpleado {\r\n    private String id,nombre,ap,am,direccion,email,telefono,pwd,tipo;\r\n     String[][] datoscom ;\r\n    ResultSet resultado;\r\n    JIFrmEmpleado empleado;\r\n    public ClsMEmpleado(JIFrmEmpleado _empleado){\r\n        this.empleado=_empleado;\r\n    }\r\n    MBD cnn=new MBD();\r\n    public String getTipo() {\r\n        return tipo;\r\n    }\r\n\r\n    public void setTipo(String tipo) {\r\n        this.tipo = tipo;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNombre() {\r\n        return nombre;\r\n    }\r\n\r\n    public void setNombre(String nombre) {\r\n        this.nombre = nombre;\r\n    }\r\n\r\n    public String getAp() {\r\n        return ap;\r\n    }\r\n\r\n    public void setAp(String ap) {\r\n        this.ap = ap;\r\n    }\r\n\r\n    public String getAm() {\r\n        return am;\r\n    }\r\n\r\n    public void setAm(String am) {\r\n        this.am = am;\r\n    }\r\n\r\n    public String getDireccion() {\r\n        return direccion;\r\n    }\r\n\r\n    public void setDireccion(String direccion) {\r\n        this.direccion = direccion;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n   \r\n\r\n    public String getTelefono() {\r\n        return telefono;\r\n    }\r\n\r\n    public void setTelefono(String telefono) {\r\n        this.telefono = telefono;\r\n    }\r\n\r\n    public String getPwd() {\r\n        return pwd;\r\n    }\r\n\r\n    public void setPwd(String pwd) {\r\n        this.pwd = pwd;\r\n    }\r\n\r\n    \r\npublic void CargarCombos() throws ClassNotFoundException\r\n   {\r\n        try {\r\n            DefaultComboBoxModel modeloCombo1 = new DefaultComboBoxModel();\r\n            resultado= cnn.Consulta_SET(\"SELECT * FROM TBL_TIPO\");\r\n            while (resultado.next())\r\n            {  \r\n                modeloCombo1.addElement(resultado.getObject(\"VCH_TIPO\"));     \r\n            }      \r\n            this.empleado.jcmbTipo.setModel(modeloCombo1);\r\n            resultado.close();     \r\n           \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(ClsMProductos.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n   }\r\n   ResultSet idtipo;\r\n \r\n      public boolean guardarProveedor() throws ClassNotFoundException, SQLException \r\n       {\r\n            boolean band=false;\r\n           if(this.getAm().equals(\"\")){\r\n               JOptionPane.showMessageDialog(null, \"no debe dejar campos vacios\");\r\n           }\r\n           else{\r\n               this.idtipo = cnn.Consulta_SET(\"SELECT vch_id_tipo FROM tbl_tipo WHERE vch_tipo='\"+this.getTipo()+\"'\");\r\n           \r\n            idtipo.next();\r\n        String sql=\"begin sp_ins_empl ('\"+this.getNombre()+\"','\"+this.getAp()+\"','\"+this.getAm()+\"','\"+this.getTelefono()+\"','\"+this.getEmail()+\"','\"+this.getDireccion()+\"','\"+this.getId()+\"','\"+this.getPwd()+\"','\"+this.idtipo.getString(\"vch_id_tipo\")+\"'); commit; end;\";\r\n      System.out.println(sql);\r\n    \r\n        try {            \r\n            cnn.procesos(sql); \r\n            band=true;\r\n        } catch (Exception ex) {\r\n            JOptionPane.showMessageDialog(null, ex.getMessage());\r\n            band=false;\r\n        }\r\n           }\r\n        \r\n     return band;\r\n  }\r\n            \r\n             \r\n     Object[][] dat;\r\n     public DefaultTableModel llenartabla()\r\n  {\r\n      DefaultTableModel dato=null;\r\n      try\r\n      {\r\n          String[] titulos={\"id\",\"nombre\",\"ap\",\"am\",\"telefono\",\"email\",\"direccion\"};\r\n          String consulta;\r\n          consulta = \"select tblempleado.vch_id_empleado,tbldato.vch_nombre,tbldato.vch_app,tbldato.vch_apm,tbldato.vch_telefono,tbldato.vch_email,tbldato.vch_dir from tblempleado inner join tbldato ON tbldato.num_id_dato = tblempleado.num_id_dato;\";\r\n          System.out.println(consulta);\r\n          String[] columnas={\"tblempleado.vch_id_empleado,tbldato.vch_nombre,tbldato.vch_app,tbldato.vch_apm,tbldato.vch_telefono,tbldato.vch_email,tbldato.vch_dir\"};\r\n          dat= cnn.getDatos(consulta, columnas);\r\n          dato= new DefaultTableModel(dat,titulos);\r\n      }catch(Exception ex){}\r\n      return dato;\r\n  }\r\n      public void Llenar_JTable_empleados() throws ClassNotFoundException\r\n    {\r\n        try {\r\n            String[] titulos={\"CLAVE\",\"NOMBRE\",\"A PATERNO\", \"A MATERNO\", \"TELEFONO\",\"EMAIL\",\"DIRECCION\"};\r\n            DefaultTableModel table = new DefaultTableModel();\r\n            resultado =cnn.Consulta_SET(\"select tblempleado.vch_id_empleado,tbldato.vch_nombre,tbldato.vch_app,tbldato.vch_apm,tbldato.vch_telefono,tbldato.vch_email,tbldato.vch_dir from tblempleado inner join tbldato ON tbldato.num_id_dato = tblempleado.num_id_dato;\");\r\n            int filas=0,columna=10,i=0;\r\n            while(resultado.next())\r\n            {\r\n                filas++;\r\n            }\r\n            resultado.close();\r\n            resultado = cnn.Consulta_SET(\"select tblempleado.vch_id_empleado,tbldato.vch_nombre,tbldato.vch_app,tbldato.vch_apm,tbldato.vch_telefono,tbldato.vch_email,tbldato.vch_dir from tblempleado inner join tbldato ON tbldato.num_id_dato = tblempleado.num_id_dato;\");\r\n            java.lang.Object[][] matriz = new String[filas][columna];\r\n            while(resultado.next())\r\n            {\r\n                matriz[i][0]=resultado.getString(\"vch_id_empleado\");\r\n                matriz[i][1]=resultado.getString(\"vch_nombre\");\r\n                matriz[i][2]=resultado.getString(\"vch_app\");\r\n                matriz[i][3]=resultado.getString(\"vch_apm\");\r\n                matriz[i][4]=resultado.getString(\"vch_telefono\");\r\n                matriz[i][5]=resultado.getString(\"vch_email\");\r\n                matriz[i][6]=resultado.getString(\"vch_dir\");\r\n\r\n                i++;\r\n            }\r\n            resultado.close();\r\n            table.setDataVector(matriz,titulos);\r\n            this.empleado.jTable1.setModel(table);\r\n        } \r\n        catch (SQLException ex) { }\r\n    }\r\n     \r\n     \r\n    public boolean eliminar()\r\n    {\r\n        String sql=\"delete tblcategoria where vch_id_categoria='\"+this.getId()+\"'\";\r\n        System.out.println(sql);\r\n        boolean band;\r\n        try\r\n        {\r\n            cnn.procesos(sql);\r\n            band=true;\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            JOptionPane.showMessageDialog(null, e.getMessage());\r\n            band=false;\r\n        }\r\n        return band;\r\n    }\r\n    public boolean editar()\r\n    {\r\n        String sql=\"update tblcategoria set vch_nom_categoria='\"+this.getNombre()+\"' where vch_id_categoria='\"+this.getId()+\"'\";\r\n        System.out.println(sql);\r\n        boolean band;\r\n        try\r\n        {\r\n            cnn.procesos(sql);\r\n            band=true;\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            JOptionPane.showMessageDialog(null, e.getMessage());\r\n            band=false;\r\n        }\r\n        return band;\r\n    }\r\n    public String [][] LlenarCombo() \r\n    {\r\n      String sql=\"select vch_tipo from tbltipo\";\r\n     System.out.println(sql);\r\n     boolean band;\r\n        try {            \r\n          datoscom = cnn.LlenarCombos(sql);            \r\n            band=true;\r\n        } catch (Exception ex) {\r\n            System.out.println(ex.getMessage());\r\n            band=false;\r\n        }\r\n     return datoscom;\r\n  }\r\n  \r\n    public DefaultComboBoxModel CargarTipos()\r\n    {\r\n        DefaultComboBoxModel CargarComboCategoria=new DefaultComboBoxModel();\r\n        try\r\n        {\r\n          resultado= cnn.consultar(\"select vch_id_tipo, vch_tipo from tbl_tipo order by vch_id_tipo\");\r\n            while(resultado.next())\r\n            {\r\n                CargarComboCategoria.addElement(resultado.getString(\"tipo\"));\r\n            }\r\n        }\r\n        catch(SQLException ex){}\r\n        return CargarComboCategoria;\r\n    }\r\n            \r\n}\r\n"
        }
    ]
}